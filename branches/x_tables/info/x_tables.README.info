Patch: [NETFILTER] x_tables
Submitter	Harald Welte
Date	2006-02-04 19:11:25
Message ID	<20060112204734.GQ4430@sunbeam.de.gnumonks.org>
Download	[NETFILTER] x_tables.patch
State	Accepted
Trees	Linus',net-2.6
Comments
Harald Welte 2006-01-12 21:47:34

Hi Dave!

Finally, I included all the suggestions/comments for x_tables "take 5",
ran the nfsim testsuite and feel confident that this is ready for prime
time.

Please apply this huge one for 2.6.16,

	Thanks!


[NETFILTER] x_tables: Abstraction layer for {ip,ip6,arp}_tables

This monster-patch tries to do the best job for unifying the data structures
and backend interfaces for the three evil clones ip_tables, ip6_tables and
arp_tables.  In an ideal world we would never have allowed this kind of 
copy+paste programming... but well, our world isn't (yet?) ideal.

o introduce a new x_tables module
o {ip,arp,ip6}_tables depend on this x_tables module
o registration functions for tables, matches and targets are only
  wrappers around x_tables provided functions
o all matches/targets that are used from ip_tables and ip6_tables
  are now implemented as xt_FOOBAR.c files and provide module aliases
  to ipt_FOOBAR and ip6t_FOOBAR
o header files for xt_matches are in include/linux/netfilter/, 
  include/linux/netfilter_{ipv4,ipv6} contains compatibility wrappers
  around the xt_FOOBAR.h headers

Based on this patchset we're going to further unify the code, gradually getting
rid of all the layer 3 specific assumptions.

Signed-off-by: Harald Welte <laforge@netfilter.org>

---

-- 
- Harald Welte <laforge@netfilter.org>                 http://netfilter.org/
============================================================================
  "Fragmentation is like classful addressing -- an interesting early
   architectural error that shows how much experimentation was going
   on while IP was being designed."                    -- Paul Vixie

David S. Miller 2006-01-13 23:33:56

From: Harald Welte <laforge@netfilter.org>
Date: Thu, 12 Jan 2006 21:47:34 +0100

> Finally, I included all the suggestions/comments for x_tables "take 5",
> ran the nfsim testsuite and feel confident that this is ready for prime
> time.
> 
> Please apply this huge one for 2.6.16,

It's been in my tree since last night, I'll try to see if
I can get Linus to eat this along with TIPC which are the
last two major things I plan to try and merge.

Let's get into bug fix mode people...

